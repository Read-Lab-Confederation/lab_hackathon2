Jan-29 14:14:17.765 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf
Jan-29 14:14:17.821 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.10.1
Jan-29 14:14:17.841 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/tread/.nextflow/plugins; core-plugins: nf-amazon@2.1.4,nf-azure@1.3.3,nf-cloudcache@0.3.0,nf-codecommit@0.1.5,nf-console@1.0.6,nf-ga4gh@1.1.0,nf-google@1.8.3,nf-tower@1.6.3,nf-wave@1.0.1
Jan-29 14:14:17.850 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Jan-29 14:14:17.851 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Jan-29 14:14:17.853 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Jan-29 14:14:17.863 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Jan-29 14:14:17.940 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declararion
Jan-29 14:14:17.962 [main] INFO  nextflow.cli.CmdRun - Launching `main.nf` [magical_pike] DSL2 - revision: 9c324954e2
Jan-29 14:14:17.963 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Jan-29 14:14:17.963 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Jan-29 14:14:17.974 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/tread/.nextflow/secrets/store.json
Jan-29 14:14:17.982 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@286b39c2] - activable => nextflow.secret.LocalSecretsProvider@286b39c2
Jan-29 14:14:18.072 [main] DEBUG nextflow.Session - Session UUID: f4263777-ea98-46c9-acf4-a068efdf4479
Jan-29 14:14:18.072 [main] DEBUG nextflow.Session - Run name: magical_pike
Jan-29 14:14:18.075 [main] DEBUG nextflow.Session - Executor pool size: 80
Jan-29 14:14:18.084 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Jan-29 14:14:18.090 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=240; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Jan-29 14:14:18.124 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.10.1 build 5891
  Created: 12-01-2024 22:01 UTC (17:01 EDT)
  System: Linux 4.19.0-14-amd64
  Runtime: Groovy 3.0.19 on OpenJDK 64-Bit Server VM 17.0.10-internal+0-adhoc..src
  Encoding: UTF-8 (UTF-8)
  Process: 19709@emergent [170.140.205.51]
  CPUs: 80 - Mem: 944.3 GB (21.5 GB) - Swap: 976 MB (0)
Jan-29 14:14:18.152 [main] DEBUG nextflow.Session - Work-dir: /home/tread/HACKATHON2/lab_hackathon2/work [ext2/ext3]
Jan-29 14:14:18.190 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Jan-29 14:14:18.199 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Jan-29 14:14:18.241 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Jan-29 14:14:18.251 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 81; maxThreads: 1000
Jan-29 14:14:18.311 [main] DEBUG nextflow.Session - Session start
Jan-29 14:14:19.151 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jan-29 14:14:19.166 [main] INFO  nextflow.Nextflow - 
Denovo Pipeline (version 1)
===================================
reads        : /home/tread/HACKATHON2/lab_hackathon2/data/fastqs/*_R{1,2}.fastq.gz
outdir       : /home/tread/HACKATHON2/lab_hackathon2/output

Jan-29 14:14:19.280 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Jan-29 14:14:19.280 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-29 14:14:19.285 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Jan-29 14:14:19.291 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=80; memory=944.3 GB; capacity=80; pollInterval=100ms; dumpInterval=5m
Jan-29 14:14:19.293 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Jan-29 14:14:19.371 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Jan-29 14:14:19.371 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-29 14:14:19.382 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Jan-29 14:14:19.382 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-29 14:14:19.388 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Jan-29 14:14:19.388 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-29 14:14:19.399 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Jan-29 14:14:19.399 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-29 14:14:19.403 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Jan-29 14:14:19.403 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-29 14:14:19.408 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Jan-29 14:14:19.408 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-29 14:14:19.413 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Jan-29 14:14:19.413 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jan-29 14:14:19.417 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: run_kma, format_kma_res, join_cat, join_kraken, run_kraken, index_amr, abundance_tab, fastp
Jan-29 14:14:19.417 [main] DEBUG nextflow.Session - Igniting dataflow network (10)
Jan-29 14:14:19.422 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > index_amr
Jan-29 14:14:19.422 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: /home/tread/HACKATHON2/lab_hackathon2/data/fastqs/; pattern: *_R{1,2}.fastq.gz; options: [checkIfExists:true]
Jan-29 14:14:19.423 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > fastp
Jan-29 14:14:19.423 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_kma
Jan-29 14:14:19.424 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > format_kma_res
Jan-29 14:14:19.424 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > join_cat
Jan-29 14:14:19.424 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_kraken
Jan-29 14:14:19.425 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > join_kraken
Jan-29 14:14:19.425 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > abundance_tab
Jan-29 14:14:19.426 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_c961a7f68d8a434d: /home/tread/HACKATHON2/lab_hackathon2/main.nf
Jan-29 14:14:19.426 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Jan-29 14:14:19.426 [main] DEBUG nextflow.Session - Session await
Jan-29 14:14:19.563 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jan-29 14:14:19.565 [Task submitter] INFO  nextflow.Session - [7d/2c2ddd] Submitted process > index_amr (1)
Jan-29 14:14:19.571 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jan-29 14:14:19.571 [Task submitter] INFO  nextflow.Session - [31/a39174] Submitted process > fastp (filter simulated_metagenome)
Jan-29 14:14:22.344 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: index_amr (1); status: COMPLETED; exit: 0; error: -; workDir: /home/tread/HACKATHON2/lab_hackathon2/work/7d/2c2dddfd7ff219e903b4c849c7f8a6]
Jan-29 14:14:22.404 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'PublishDir' minSize=10; maxSize=240; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Jan-29 14:17:37.985 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: fastp (filter simulated_metagenome); status: COMPLETED; exit: 0; error: -; workDir: /home/tread/HACKATHON2/lab_hackathon2/work/31/a391744abc96ef19a644baf5749e2c]
Jan-29 14:17:38.021 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jan-29 14:17:38.022 [Task submitter] INFO  nextflow.Session - [59/ce8da8] Submitted process > run_kma (AMR on simulated_metagenome)
Jan-29 14:17:38.029 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jan-29 14:17:38.030 [Task submitter] INFO  nextflow.Session - [e5/58a68f] Submitted process > run_kraken (1)
Jan-29 14:19:19.476 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 2 -- submitted tasks are shown below
~> TaskHandler[id: 3; name: run_kma (AMR on simulated_metagenome); status: RUNNING; exit: -; error: -; workDir: /home/tread/HACKATHON2/lab_hackathon2/work/59/ce8da85b727c14669e4d08887f1dcf]
~> TaskHandler[id: 4; name: run_kraken (1); status: RUNNING; exit: -; error: -; workDir: /home/tread/HACKATHON2/lab_hackathon2/work/e5/58a68f58b82ed6e018ad82b257862e]
Jan-29 14:20:53.148 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 4; name: run_kraken (1); status: COMPLETED; exit: 0; error: -; workDir: /home/tread/HACKATHON2/lab_hackathon2/work/e5/58a68f58b82ed6e018ad82b257862e]
Jan-29 14:20:53.181 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jan-29 14:20:53.182 [Task submitter] INFO  nextflow.Session - [35/db4c57] Submitted process > join_kraken
Jan-29 14:20:53.205 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 5; name: join_kraken; status: COMPLETED; exit: 0; error: -; workDir: /home/tread/HACKATHON2/lab_hackathon2/work/35/db4c5760651801c09b8b4dc223d2bc]
Jan-29 14:24:19.527 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 3; name: run_kma (AMR on simulated_metagenome); status: RUNNING; exit: -; error: -; workDir: /home/tread/HACKATHON2/lab_hackathon2/work/59/ce8da85b727c14669e4d08887f1dcf]
Jan-29 14:29:19.560 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor local > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 3; name: run_kma (AMR on simulated_metagenome); status: RUNNING; exit: -; error: -; workDir: /home/tread/HACKATHON2/lab_hackathon2/work/59/ce8da85b727c14669e4d08887f1dcf]
Jan-29 14:31:45.108 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 3; name: run_kma (AMR on simulated_metagenome); status: COMPLETED; exit: 0; error: -; workDir: /home/tread/HACKATHON2/lab_hackathon2/work/59/ce8da85b727c14669e4d08887f1dcf]
Jan-29 14:31:45.134 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jan-29 14:31:45.135 [Task submitter] INFO  nextflow.Session - [5d/cc8492] Submitted process > format_kma_res (1)
Jan-29 14:31:45.245 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 6; name: format_kma_res (1); status: COMPLETED; exit: 0; error: -; workDir: /home/tread/HACKATHON2/lab_hackathon2/work/5d/cc84925dda9fc963c35e4d07e145ab]
Jan-29 14:31:45.262 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jan-29 14:31:45.263 [Task submitter] INFO  nextflow.Session - [88/c698fd] Submitted process > join_cat
Jan-29 14:31:45.309 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 7; name: join_cat; status: COMPLETED; exit: 1; error: -; workDir: /home/tread/HACKATHON2/lab_hackathon2/work/88/c698fd5aa23befc806d32a89a01dcd]
Jan-29 14:31:45.311 [Task monitor] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=join_cat; work-dir=/home/tread/HACKATHON2/lab_hackathon2/work/88/c698fd5aa23befc806d32a89a01dcd
  error [nextflow.exception.ProcessFailedException]: Process `join_cat` terminated with an error exit status (1)
Jan-29 14:31:45.318 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'join_cat'

Caused by:
  Process `join_cat` terminated with an error exit status (1)

Command executed:

  cat *.joined.name.tab > kma_all_joinned.tsv

Command exit status:
  1

Command output:
  (empty)

Command error:
  cat: '*.joined.name.tab': No such file or directory

Work dir:
  /home/tread/HACKATHON2/lab_hackathon2/work/88/c698fd5aa23befc806d32a89a01dcd

Tip: when you have fixed the problem you can continue the execution adding the option `-resume` to the run command line
Jan-29 14:31:45.322 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `join_cat` terminated with an error exit status (1)
Jan-29 14:31:45.324 [main] DEBUG nextflow.Session - Session await > all processes finished
Jan-29 14:31:45.333 [main] DEBUG nextflow.Session - Session await > all barriers passed
Jan-29 14:31:45.333 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Jan-29 14:31:45.346 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=6; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=20m 43s; failedDuration=27ms; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=2; peakCpus=2; peakMemory=0; ]
Jan-29 14:31:45.538 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Jan-29 14:31:45.547 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
